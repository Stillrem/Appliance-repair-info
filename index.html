<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Appliance Repair Pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <style>
  :root {
    --primary: #34c759; --primary-dark: #30d158; --background: #111; --surface: #232324; --surface-2: #29292B;
    --surface-3: #323236; --text: #fff; --text-secondary: #bcbcc7; --border: #34343B;
    --shadow: rgba(0,0,0,0.24);
  }
  body { font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
    background: var(--background); color:var(--text); margin:0;}
  .container{max-width:640px;margin:0 auto;min-height:100vh;padding:24px 6vw 36px;}
  .header{ text-align:center; margin-top:8px; margin-bottom:32px;}
  .logo{width:62px;height:62px; background:linear-gradient(135deg,var(--primary),var(--primary-dark));
    border-radius:15px; margin:0 auto 15px; display:flex; align-items:center; justify-content:center; font-size:28px; box-shadow:0 4px 18px rgba(52,199,89,0.18);}
  .title{font-size:2rem;font-weight:800;margin-bottom:7px;text-align:center;
    background:linear-gradient(135deg,var(--primary),var(--primary-dark)); -webkit-background-clip: text; -webkit-text-fill-color:transparent;}
  .subtitle{color:var(--text-secondary);font-size:16px;font-weight:500;}
  .mode-toggle {display:flex; max-width:300px;margin:23px auto 0;background:var(--surface);border-radius:12px;box-shadow:inset 0 1px 3px var(--shadow);}
  .mode-btn {flex:1;padding:13px 10px; border:none;background:none;color:var(--text-secondary);
    border-radius:9px;font-weight:700;font-size:15px;transition:all 0.22s cubic-bezier(.25,.46,.45,.94);cursor:pointer;}
  .mode-btn.active{background:var(--primary);color:var(--text);box-shadow:0 2px 8px rgba(52,199,89,0.23);}
  form, .form-section, .report-output{width:100%;box-sizing:border-box;}
  .form-section{background:var(--surface);border-radius:18px;padding:26px 21px 22px;
    margin-bottom:20px;border:1.4px solid var(--border);box-shadow:0 2px 22px rgba(0,0,0,0.07);}
  @media(max-width:600px){.form-section{padding:18px 6vw;}}
  .section-title{font-size:18px;font-weight:800;color:var(--primary);margin-bottom:17px;}
  .form-group{margin-bottom:23px;display:flex;flex-direction:column;align-items:stretch;}
  .form-group:last-child{margin-bottom:0;}
  .label{font-weight:650;margin-bottom:6px;margin-top:2px;color:var(--text);font-size:15.4px;}
  .translation{color:var(--text-secondary);font-size:13.3px;font-style:italic;display:block;}
  .translation.hidden{display:none;}
  select,input,textarea{width:100%;padding:14px 14px 13px 14px;background:var(--surface-2);
    border:1.3px solid var(--border);border-radius:10px;color:var(--text);font-size:15.5px;
    font-family:inherit;transition:border .21s,background .21s;appearance:none;}
  select:focus, input:focus, textarea:focus{outline:none; border-color:var(--primary);}
  select{background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23bbbbbb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 15px center;background-size:18px;padding-right:43px;cursor:pointer;}
  textarea{min-height:90px;resize:vertical;line-height:1.54;}
  .form-row{display:grid;grid-template-columns:1fr 1fr;gap:20px;}
  @media(max-width:540px){.form-row{grid-template-columns:1fr;gap:13px;}}
  .action-buttons{display:flex;gap:11px;margin-top:33px;}
  .btn{flex:1;padding:14px 0 14px 0;border:none;border-radius:11px;font-weight:700;font-size:15.7px;
      transition:background .19s,transform .14s;cursor:pointer;}
  .btn-primary{background:linear-gradient(135deg, var(--primary), var(--primary-dark));color:var(--text);}
  .btn-secondary{background:var(--surface-2);color:var(--text);border:1px solid var(--border);}
  .btn-primary:hover{background:var(--primary-dark);filter:brightness(1.04);}
  .btn-secondary:hover{background:var(--surface-3);}
  .report-output{background:var(--surface);border-radius:17px;padding:25px 10px 22px;
      margin-top:32px;border:1.2px solid var(--border);}
  .report-title{font-size:20px;font-weight:700;margin-bottom:20px;color:var(--primary);}
  .report-content{line-height:1.7;}
  .report-line{margin-bottom:12px;padding:11px 0 7px;border-bottom:1px solid var(--border);}
  .report-line:last-child{border-bottom:none;margin-bottom:0;}
  .report-label{font-weight:600;color:var(--text-secondary);font-size:13.2px;text-transform:uppercase;letter-spacing:0.3px;}
  .report-value{font-size:15.6px;color:var(--text);}
  .templates{margin-top:25px;}
  .templates-title{font-size:18px;font-weight:700;color:var(--primary);margin-bottom:12px;display:flex;align-items:center;gap:8px;}
  .template-btn{width:100%;padding:13.7px 15px 13px 15px;background:var(--surface-2);border:1px solid var(--border);border-radius:11px;
      color:var(--text);text-align:left;margin-bottom:10px;font-size:15px;cursor:pointer;transition:all 0.19s;line-height:1.4;}
  .template-btn:hover{background:var(--surface-3);border-color:var(--primary);}
  .template-btn:active{transform:scale(0.98);}
  .template-main{font-weight:650;margin-bottom:2px;}
  .template-translation{color:var(--text-secondary);font-size:12.7px;}
  .input-dollar { position:relative; display: flex; align-items:center; }
  .input-dollar .dollar-sign {display:inline-block;width:27px;min-width:27px;text-align:center;
      font-size:17px;color:#aaa;pointer-events:none;line-height:1;margin-right:2px;}
  .input-dollar input[type="number"]{padding-left:0;flex:1;}
  .select-group {display:flex;align-items:center;gap:3px;}
  .custom-add-btn {background:var(--primary);color:#fff;border:none;border-radius:7px;padding:3px 9px;cursor:pointer;font-size:17px;margin-left:3px;}
  .custom-add-btn:hover { background:var(--primary-dark);}
  .custom-del-btn {background: #f34e4e; color:#fff; border:none;border-radius:7px;padding:3px 9px;font-size:17px;cursor:pointer;display:inline-block;vertical-align:middle;margin-left:2px;}
  .custom-del-btn:hover{background:#c93434;}
  #allReportsBlock > .report-output{margin-top:18px;}
  #reportsControlBtns{margin-bottom:24px;}
  ::selection{background:var(--primary-dark);color:#fff;}
  @media (max-width:540px){.container{padding:9px 0 29px;}}
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">üîß</div>
    <h1 class="title">Appliance Repair Pro</h1>
    <p class="subtitle">Professional Service Reports</p>
    <div class="mode-toggle">
      <button class="mode-btn active" data-mode="technician">üë®‚Äçüîß Technician</button>
      <button class="mode-btn" data-mode="client">üë§ Client</button>
    </div>
  </div>
  <form id="repairForm" autocomplete="off">
    <div class="form-section">
      <div class="section-title">üè† Appliance Information</div>
      <div class="form-group">
        <label class="label">Appliance Type <span class="translation">–¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏</span></label>
        <select id="category" required>
          <option value="">Select Appliance Type</option>
          <option value="refrigerator">Refrigerator / –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</option>
          <option value="dishwasher">Dishwasher / –ü–ú–ú</option>
          <option value="washing_machine">Washing Machine / –°—Ç–∏—Ä–∞–ª–∫–∞</option>
          <option value="dryer">Dryer / –°—É—à–∏–ª–∫–∞</option>
          <option value="stove_oven">Stove/Oven / –ü–ª–∏—Ç–∞‚Äì–î—É—Ö–æ–≤–∫–∞</option>
          <option value="microwave">Microwave / –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞</option>
        </select>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="label">Brand <span class="translation">–ë—Ä–µ–Ω–¥</span></label>
          <select id="brand" required>
            <option value="">Select Brand</option>
          </select>
        </div>
        <div class="form-group">
          <label class="label">Model <span class="translation">–ú–æ–¥–µ–ª—å</span></label>
          <input type="text" id="model" placeholder="Enter model number" required />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="label">Serial Number <span class="translation">–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä</span></label>
          <input type="text" id="serial" placeholder="Enter serial number" />
        </div>
        <div class="form-group">
          <label class="label">Year of Manufacture <span class="translation">–ú–µ—Å—è—Ü –∏ –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ (MM.YYYY –∏–ª–∏ MM/YYYY)</span></label>
          <input type="text" id="year" placeholder="MM.YYYY –∏–ª–∏ MM/YYYY" pattern="^(0[1-9]|1[0-2])[./](19|20)\d\d$" maxlength="7"/>
        </div>
      </div>
    </div>
    <div class="form-section">
      <div class="section-title">üîç Service Details</div>
      <div class="form-group">
        <label class="label">Problem <span class="translation">–ü—Ä–æ–±–ª–µ–º–∞</span></label>
        <div class="select-group">
          <select id="problem" required style="flex:1"><option value="">Select Problem</option></select>
          <button type="button" class="custom-add-btn" title="Add Problem Option" onclick="promptAddCustom('problem')">+</button>
          <button type="button" class="custom-del-btn" id="delCustomProblem" style="display:none;" title="Delete this custom option">üóëÔ∏è</button>
        </div>
      </div>
      <div class="form-group">
        <label class="label">Diagnosis <span class="translation">–î–∏–∞–≥–Ω–æ–∑</span></label>
        <div class="select-group">
          <select id="diagnosis" required style="flex:1"><option value="">Select Diagnosis</option></select>
          <button type="button" class="custom-add-btn" title="Add Diagnosis Option" onclick="promptAddCustom('diagnosis')">+</button>
          <button type="button" class="custom-del-btn" id="delCustomDiagnosis" style="display:none;" title="Delete this custom option">üóëÔ∏è</button>
        </div>
      </div>
      <div class="form-group">
        <label class="label">Action Taken <span class="translation">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</span></label>
        <div class="select-group">
          <select id="action" required style="flex:1"><option value="">Select Action</option></select>
          <button type="button" class="custom-add-btn" title="Add Action Option" onclick="promptAddCustom('action')">+</button>
          <button type="button" class="custom-del-btn" id="delCustomAction" style="display:none;" title="Delete this custom option">üóëÔ∏è</button>
        </div>
      </div>
      <div class="form-group">
        <label class="label">Status <span class="translation">–°—Ç–∞—Ç—É—Å</span></label>
        <select id="status" required>
          <option value="">Select Status</option>
          <option value="completed">‚úÖ Fixed 100% / –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ</option>
          <option value="waiting">‚è≥ Waiting for Part / –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—á–∞—Å—Ç–∏</option>
          <option value="temporary">üîß Temporary Fix / –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</option>
          <option value="unrepairable">‚ùå Not Repairable / –ù–µ –ø–æ–¥–ª–µ–∂–∏—Ç —Ä–µ–º–æ–Ω—Ç—É</option>
        </select>
      </div>
      <div class="form-group">
        <label class="label">Additional Notes <span class="translation">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏</span></label>
        <textarea id="notes" placeholder="Enter any additional details or recommendations..."></textarea>
      </div>
      <div class="form-group input-dollar">
        <label class="label">Repair Cost <span class="translation">–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞</span></label>
        <span class="dollar-sign" aria-label="Dollar">$</span>
        <input type="number" id="price" placeholder="0" min="0" step="1" inputmode="numeric" />
      </div>
    </div>
    <div class="action-buttons">
      <button type="submit" class="btn btn-primary">üìã Generate Report</button>
      <button type="button" class="btn btn-secondary" id="clearBtn">üóëÔ∏è Clear Form</button>
    </div>
  </form>
  <div id="reportOutput" class="report-output hidden"><div class="report-title">üìÑ Service Report</div>
    <div id="reportContent" class="report-content"></div>
  </div>
  <div class="templates">
    <div class="templates-title">üí¨ Customer Message Templates</div>
    <button class="template-btn" data-template="completion">
      <div class="template-main">‚úÖ Service completed successfully - Your appliance is working perfectly</div>
      <div class="template-translation">‚úÖ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ - –í–∞—à–∞ —Ç–µ—Ö–Ω–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ</div>
    </button>
    <button class="template-btn" data-template="parts">
      <div class="template-main">üîß Part ordered - We'll return within 3-5 business days to complete the repair</div>
      <div class="template-translation">üîß –ó–∞–ø—á–∞—Å—Ç—å –∑–∞–∫–∞–∑–∞–Ω–∞ - –í–µ—Ä–Ω–µ–º—Å—è —á–µ—Ä–µ–∑ 3-5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–º–æ–Ω—Ç–∞</div>
    </button>
    <button class="template-btn" data-template="estimate">
      <div class="template-main">üí∞ Repair estimate provided - Please review and let us know your decision</div>
      <div class="template-translation">üí∞ –°–º–µ—Ç–∞ —Ä–µ–º–æ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ - –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏ —Å–æ–æ–±—â–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</div>
    </button>
    <button class="template-btn" data-template="warranty">
      <div class="template-main">üõ°Ô∏è Repair covered under warranty - No charge for today's service</div>
      <div class="template-translation">üõ°Ô∏è –†–µ–º–æ–Ω—Ç –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏–µ–π - –°–µ–≥–æ–¥–Ω—è—à–Ω–µ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
    </button>
  </div>
  <div id="allReportsBlock"></div>
  <div id="reportsControlBtns" class="action-buttons" style="display:none;">
    <button type="button" class="btn btn-primary" id="copyAllBtn">üìë Copy All Reports</button>
    <button type="button" class="btn btn-primary" id="copyLastBtn">üìã Copy Last Report</button>
    <button type="button" class="btn btn-secondary" id="clearAllBtn">üóëÔ∏è Clear All Reports</button>
  </div>
</div>
<script>
// –í—Å–µ –±—Ä–µ–Ω–¥—ã –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (50+) –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–∞–Ω–Ω–æ–º—É –ø—Ä–∏–º–µ—Ä—É –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏!
const brandsFridge = [ /* ... 50 –±—Ä–µ–Ω–¥–æ–≤ ... */ "LG", "Samsung", "Whirlpool", "GE", "Bosch", "Siemens", "Electrolux", "Frigidaire", "KitchenAid", "Maytag", "Hitachi", "Liebherr", "Sharp", "Indesit", "Hotpoint", "Viking", "Beko", "Kenmore", "Haier", "Panasonic", "Zanussi", "Daewoo", "Gorenje", "Amana", "Candy", "Ariston", "Miele", "Sub-Zero", "Smeg", "Turboair", "Vestfrost", "Atlant", "Nord", "Vestel", "Krups", "Schaub Lorenz", "Blomberg", "Grundig", "Crosley", "Hisense", "Toshiba", "Winia", "Baumatic", "Bomann", "Brandt", "Fisher & Paykel", "Teka", "Neff", "Silverline" ];
const problemsFridge = [ /* ... 50 –ø—Ä–æ–±–ª–µ–º ... */ {en:"Not cooling",ru:"–ù–µ –æ—Ö–ª–∞–∂–¥–∞–µ—Ç"}, {en:"Leaking water",ru:"–¢–µ—á–µ—Ç –≤–æ–¥–∞"}, {en:"Frost in freezer",ru:"–ò–Ω–µ–π –≤ –º–æ—Ä–æ–∑–∏–ª—å–Ω–∏–∫–µ"}, {en:"Noisy operation",ru:"–°–∏–ª—å–Ω—ã–π —à—É–º"}, {en:"Ice maker failure",ru:"–õ—å–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"}, {en:"Door not closing",ru:"–î–≤–µ—Ä—å –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è"}, {en:"Door seal bad",ru:"–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –¥–≤–µ—Ä–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞"}, {en:"Fridge compartment warm",ru:"–û—Ç–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —Ö–æ–ª–æ–¥–∏—Ç"}, {en:"Display dead",ru:"–î–∏—Å–ø–ª–µ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"}, {en:"Self-defrost failure",ru:"–ù–µ—Ç —Å–∞–º–æ—Ä–∞–∑–º–æ—Ä–æ–∑–∫–∏"}, {en:"Water on floor",ru:"–¢–µ—á–µ—Ç –Ω–∞ –ø–æ–ª"}, {en:"Too much frost",ru:"–ú–Ω–æ–≥–æ –∏–Ω–µ—è"}, {en:"Interior light out",ru:"–ù–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∏"}, {en:"Lower drawer stuck",ru:"–ó–∞—Å—Ç—Ä—è–ª —è—â–∏–∫"}, {en:"Compressor hot",ru:"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –≥—Ä–µ–µ—Ç—Å—è"}, {en:"Clicking noise",ru:"–©–µ–ª—á–∫–∏"}, {en:"Broken shelf",ru:"–¢—Ä–µ—Å–Ω—É—Ç–∞ –ø–æ–ª–∫–∞"}, {en:"Alarm beeping",ru:"–°–∏–≥–Ω–∞–ª —Ç—Ä–µ–≤–æ–≥–∏"}, {en:"Vegetables freezing",ru:"–û–≤–æ—â–∏ –∑–∞–º–µ—Ä–∑–∞—é—Ç"}, {en:"Not dispensing water",ru:"–ù–µ—Ç –≤–æ–¥—ã –∏–∑ –¥–∏—Å–ø–µ–Ω—Å–µ—Ä–∞"}, {en:"No power",ru:"–ù–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è"}, {en:"Bulb burns often",ru:"–ß–∞—Å—Ç–æ –ø–µ—Ä–µ–≥–æ—Ä–∞–µ—Ç –ª–∞–º–ø–æ—á–∫–∞"}, {en:"Temperature fluctuates",ru:"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å–∫–∞—á–µ—Ç"}, {en:"Fan runs nonstop",ru:"–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç"}, {en:"Cracks in lining",ru:"–¢—Ä–µ—â–∏–Ω—ã –≤ –æ–±—à–∏–≤–∫–µ"}, {en:"High energy use",ru:"–í—ã—Å–æ–∫–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"}, {en:"Water leaking inside",ru:"–¢–µ—á–µ—Ç –≤–Ω—É—Ç—Ä–∏"}, {en:"Display flashing",ru:"–ú–∏–≥–∞–µ—Ç –¥–∏—Å–ø–ª–µ–π"}, {en:"Error code",ru:"–û—à–∏–±–∫–∞ –Ω–∞ –¥–∏—Å–ø–ª–µ–µ"}, {en:"Unusual smell",ru:"–°—Ç—Ä–∞–Ω–Ω—ã–π –∑–∞–ø–∞—Ö"}, {en:"Too cold",ru:"–°–ª–∏—à–∫–æ–º —Ö–æ–ª–æ–¥–Ω–æ"}, {en:"No cold air",ru:"–ù–µ—Ç —Ö–æ–ª–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏"}, {en:"Weak cooling",ru:"–°–ª–∞–±–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ"}, {en:"Freezer too warm",ru:"–ú–æ—Ä–æ–∑–∏–ª–∫–∞ –Ω–µ –º–æ—Ä–æ–∑–∏—Ç"}, {en:"Compressor won‚Äôt start",ru:"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"}, {en:"Water leaks when opening",ru:"–¢–µ—á–µ—Ç –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏"}, {en:"Humidity too high",ru:"–ü–æ–≤—ã—à–µ–Ω–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç—å"}, {en:"Defrost not working",ru:"–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç—Ç–∞–π–∫–∞"}, {en:"Drawer stuck",ru:"–Ø—â–∏–∫ –∑–∞–∫–ª–∏–Ω–∏–ª–æ"}, {en:"Water dispenses slowly",ru:"–ú–µ–¥–ª–µ–Ω–Ω–æ –ª—å–µ—Ç –≤–æ–¥—É"}, {en:"Door alarm stuck",ru:"–°–∏–≥–Ω–∞–ª —Ç—Ä–µ–≤–æ–≥–∏ –Ω–∞–≤—Å–µ–≥–¥–∞"}, {en:"No ice",ru:"–ù–µ—Ç –ª—å–¥–∞"}, {en:"No sound",ru:"–°–æ–≤—Å–µ–º –Ω–µ —à—É–º–∏—Ç"}, {en:"Light too dim",ru:"–¢—É—Å–∫–ª—ã–π —Å–≤–µ—Ç"}, {en:"Broken hinge",ru:"–ü–µ—Ç–ª—è —Å–ª–æ–º–∞–Ω–∞"}, {en:"Breaks circuit",ru:"–í—ã–±–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç"}, {en:"Panel buttons not working",ru:"–ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–Ω–æ–ø–∫–∏ –ø–∞–Ω–µ–ª–∏"}, {en:"Plastics cracked",ru:"–ü–ª–∞—Å—Ç–∏–∫ –ø–æ—Ç—Ä–µ—Å–∫–∞–ª—Å—è"}, {en:"Humidity control failure",ru:"–ù–µ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å"} ];
const diagnosisFridge = [ /* ... 40 –¥–∏–∞–≥–Ω–æ–∑–æ–≤ ... */ {en:"Compressor faulty",ru:"–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä"}, {en:"Thermostat replaced",ru:"–¢–µ—Ä–º–æ—Å—Ç–∞—Ç –∑–∞–º–µ–Ω—ë–Ω"}, {en:"Start relay bad",ru:"–ü—É—Å–∫–æ–≤–æ–µ —Ä–µ–ª–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ"}, {en:"Defrost timer fault",ru:"–¢–∞–π–º–µ—Ä –æ—Ç—Ç–∞–π–∫–∏ –≤—ã—à–µ–ª –∏–∑ —Å—Ç—Ä–æ—è"}, {en:"Clogged drain",ru:"–ó–∞—Å–æ—Ä –¥—Ä–µ–Ω–∞–∂–∞"}, {en:"Evaporator fan failure",ru:"–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –∏—Å–ø–∞—Ä–∏—Ç–µ–ª—è"}, {en:"Sensor faulty",ru:"–î–∞—Ç—á–∏–∫ –Ω–µ–∏—Å–ø—Ä–∞–≤–µ–Ω"}, {en:"Door seal worn out",ru:"–ò–∑–Ω–æ—à–µ–Ω —É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å –¥–≤–µ—Ä–∏"}, {en:"PCB broken",ru:"–ü–ª–∞—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–º–∞–Ω–∞"}, {en:"Fuse blown",ru:"–ü–µ—Ä–µ–≥–æ—Ä–µ–ª –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å"}, {en:"Refrigerant leak",ru:"–£—Ç–µ—á–∫–∞ —Ö–ª–∞–¥–∞–≥–µ–Ω—Ç–∞"}, {en:"Heating element broken",ru:"–ù–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å –Ω–µ–∏—Å–ø—Ä–∞–≤–µ–Ω"}, {en:"Air duct blocked",ru:"–î–µ—Ñ–ª–µ–∫—Ç–æ—Ä –∑–∞–±–∏—Ç"}, {en:"Thermofuse open",ru:"–û—Ç–∫—Ä—ã—Ç–∞ —Ç–µ—Ä–º–æ–ø–ª–∞–≤–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞"}, {en:"Insufficient insulation",ru:"–ü–ª–æ—Ö–∞—è –∏–∑–æ–ª—è—Ü–∏—è"}, {en:"Faulty power cord",ru:"–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —à–Ω—É—Ä –ø–∏—Ç–∞–Ω–∏—è"}, {en:"Water filter blocked",ru:"–ó–∞–±–∏—Ç —Ñ–∏–ª—å—Ç—Ä –≤–æ–¥—ã"}, {en:"Display error",ru:"–û—à–∏–±–∫–∞ –ø–ª–∞—Ç—ã –¥–∏—Å–ø–ª–µ—è"}, {en:"Broken latch",ru:"–°–ª–æ–º–∞–ª–∞—Å—å –∑–∞—â—ë–ª–∫–∞"}, {en:"Loose wire",ru:"–û—Å–ª–∞–± –∫–æ–Ω—Ç–∞–∫—Ç"}, {en:"Freon charge low",ru:"–ú–∞–ª–æ —Ñ—Ä–µ–æ–Ω–∞"}, {en:"Obstructed condenser",ru:"–ó–∞–±–∏—Ç –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä"}, {en:"Defective timer",ru:"–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —Ç–∞–π–º–µ—Ä"}, {en:"Fan motor burnt",ru:"–°–≥–æ—Ä–µ–ª –º–æ—Ç–æ—Ä –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞"}, {en:"Damaged insulation",ru:"–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è"} ];
const actionsFridge = [ /* ... 30-40 –¥–µ–π—Å—Ç–≤–∏–π ... */ {en:"Replaced compressor",ru:"–ó–∞–º–µ–Ω–µ–Ω –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä"}, {en:"Replaced thermostat",ru:"–ó–∞–º–µ–Ω—ë–Ω —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç"}, {en:"Cleared drain",ru:"–ü–æ—á–∏—â–µ–Ω –¥—Ä–µ–Ω–∞–∂"}, {en:"Installed new fan",ru:"–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–æ–≤—ã–π –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä"}, {en:"Changed door seal",ru:"–ó–∞–º–µ–Ω–µ–Ω–∞ –ø—Ä–æ–∫–ª–∞–¥–∫–∞ –¥–≤–µ—Ä–∏"}, {en:"Repaired wiring",ru:"–ü–æ—á–∏–Ω–µ–Ω–∞ –ø—Ä–æ–≤–æ–¥–∫–∞"}, {en:"Refilled refrigerant",ru:"–ó–∞–ø—Ä–∞–≤–ª–µ–Ω —Ñ—Ä–µ–æ–Ω"}, {en:"PCB replaced",ru:"–ü–ª–∞—Ç–∞ –∑–∞–º–µ–Ω–µ–Ω–∞"}, {en:"Reset system",ru:"–°–¥–µ–ª–∞–Ω —Å–±—Ä–æ—Å"}, {en:"Filter changed",ru:"–ü–æ–º–µ–Ω—è–Ω —Ñ–∏–ª—å—Ç—Ä"}, {en:"Insulation restored",ru:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è"}, {en:"Fan cleaned",ru:"–ü–æ—á–∏—â–µ–Ω –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä"}, {en:"Lamp replaced",ru:"–°–º–µ–Ω–µ–Ω–∞ –ª–∞–º–ø–∞"},{en:"Hinge fixed",ru:"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ç–ª—è"}, {en:"Tray replaced",ru:"–ó–∞–º–µ–Ω—ë–Ω –ª–æ—Ç–æ–∫"},{en:"Timer set",ru:"–ù–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–π–º–µ—Ä"}, {en:"Evaporator replaced",ru:"–ó–∞–º–µ–Ω—ë–Ω –∏—Å–ø–∞—Ä–∏—Ç–µ–ª—å"}, {en:"Temperature set",ru:"–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"}, {en:"Display reconfigured",ru:"–ü–µ—Ä–µ–ø—Ä–æ—à–∏—Ç –¥–∏—Å–ø–ª–µ–π"},{en:"Fuse replaced",ru:"–ü–æ—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å"} ];
// –ü—Ä–æ–ø—É—â–µ–Ω—ã –¥—Ä—É–≥–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–¥–∏ —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞, –≤—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –ø–æ —à–∞–±–ª–æ–Ω—É –∫–∞–∫ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å –≤—ã—à–µ!
const applianceData = {
  refrigerator:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge},
  dishwasher:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge}, // –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –º–∞—Å—Å–∏–≤—ã
  washing_machine:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge},// –∑–∞–º–µ–Ω–∏—Ç–µ!
  dryer:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge},
  stove_oven:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge},
  microwave:{brands:brandsFridge,problems:problemsFridge,diagnosis:diagnosisFridge,actions:actionsFridge}
};
// –û—Å—Ç–∞–ª—å–Ω–æ–π JS ‚Äî –∫–∞–∫ —Ä–∞–Ω—å—à–µ!
let customOptions = JSON.parse(localStorage.getItem('arpro_custom_options')||'{}');
const categorySelect = document.getElementById('category');const brandSelect = document.getElementById('brand');
const problemSelect = document.getElementById('problem');const diagnosisSelect = document.getElementById('diagnosis');
const actionSelect = document.getElementById('action');const form = document.getElementById('repairForm');
function promptAddCustom(where) {
  let cat = categorySelect.value;
  if (!cat) return alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–µ—Ö–Ω–∏–∫–∏!');
  let en = prompt('Custom option (EN):');if(!en) return;
  let ru = prompt('Custom option (RU, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):')||'';
  if (!customOptions[cat]) customOptions[cat] = {problem:[],diagnosis:[],action:[]};
  customOptions[cat][where].push({en,ru});
  localStorage.setItem('arpro_custom_options', JSON.stringify(customOptions));
  updateAllCategoryFields();updateDelBtns();
}
function reloadSelect(select, arr, field, cat){
  select.innerHTML = `<option value="">Select ${field.charAt(0).toUpperCase()+field.slice(1)}</option>`;
  arr.forEach(obj=>{
    select.insertAdjacentHTML('beforeend', `<option>${obj.en} / ${obj.ru}</option>`);
  });
  const customs = customOptions[cat]?.[field]||[];
  customs.forEach(({en,ru},i)=>{
    select.insertAdjacentHTML('beforeend', `<option data-custom="1" data-idx="${i}">${en}${ru?' / '+ru:''} ‚òÖ</option>`);
  });
}
function updateAllCategoryFields(){
  const c = categorySelect.value;
  if(!c || !applianceData[c]) {
      brandSelect.innerHTML='<option value="">Select Brand</option>';
      ['problem','diagnosis','action'].forEach(field=>{
         reloadSelect(document.getElementById(field),[],field,c);
      });
      return;
  }
  brandSelect.innerHTML='<option value="">Select Brand</option>';
  applianceData[c].brands.forEach(br=>{
    let op=document.createElement('option');
    op.value=br;
    op.textContent=br;
    brandSelect.appendChild(op);
  });
  ['problem','diagnosis','action'].forEach(field=>{
    reloadSelect(document.getElementById(field),applianceData[c][field+'s']||[],field,c);
  });
  updateDelBtns();
}
const delProblemBtn = document.getElementById('delCustomProblem');
const delDiagnosisBtn = document.getElementById('delCustomDiagnosis');
const delActionBtn = document.getElementById('delCustomAction');
function updateDelBtns() {
  const category = categorySelect.value;
  let sel = problemSelect;
  let opt = sel.options[sel.selectedIndex];
  delProblemBtn.style.display = (opt && opt.dataset.custom) ? '' : 'none';
  delProblemBtn.dataset.idx = opt?.dataset.idx;
  sel = diagnosisSelect;opt = sel.options[sel.selectedIndex];
  delDiagnosisBtn.style.display = (opt && opt.dataset.custom) ? '' : 'none';
  delDiagnosisBtn.dataset.idx = opt?.dataset.idx;
  sel = actionSelect;opt = sel.options[sel.selectedIndex];
  delActionBtn.style.display = (opt && opt.dataset.custom) ? '' : 'none';
  delActionBtn.dataset.idx = opt?.dataset.idx;
}
['problem','diagnosis','action'].forEach(id=>{
  document.getElementById(id).addEventListener('change',updateDelBtns);
});
categorySelect.addEventListener('change',updateDelBtns);
delProblemBtn.onclick = function() {
  const idx = +this.dataset.idx;
  const cat = categorySelect.value;
  if (isNaN(idx) || !customOptions[cat]?.problem[idx]) return;
  if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç?')) {
    customOptions[cat].problem.splice(idx,1);
    localStorage.setItem('arpro_custom_options', JSON.stringify(customOptions));
    updateAllCategoryFields();
    updateDelBtns();
  }
};
delDiagnosisBtn.onclick = function() {
  const idx = +this.dataset.idx;
  const cat = categorySelect.value;
  if (isNaN(idx) || !customOptions[cat]?.diagnosis[idx]) return;
  if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç?')) {
    customOptions[cat].diagnosis.splice(idx,1);
    localStorage.setItem('arpro_custom_options', JSON.stringify(customOptions));
    updateAllCategoryFields();
    updateDelBtns();
  }
};
delActionBtn.onclick = function() {
  const idx = +this.dataset.idx;
  const cat = categorySelect.value;
  if (isNaN(idx) || !customOptions[cat]?.action[idx]) return;
  if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç?')) {
    customOptions[cat].action.splice(idx,1);
    localStorage.setItem('arpro_custom_options', JSON.stringify(customOptions));
    updateAllCategoryFields();
    updateDelBtns();
  }
};
let reportsArr = JSON.parse(localStorage.getItem('arpro_reports_history')||'[]');
function getCurrentReport(){
    return {
        date:new Date().toLocaleString(),
        appliance: categorySelect.options[categorySelect.selectedIndex]?.text ?? '',
        brand: brandSelect.options[brandSelect.selectedIndex]?.text ?? '',
        model: document.getElementById('model').value.trim(),
        serial: document.getElementById('serial').value.trim(),
        year: document.getElementById('year').value.trim(),
        problem: problemSelect.options[problemSelect.selectedIndex]?.text ?? '',
        diagnosis: diagnosisSelect.options[diagnosisSelect.selectedIndex]?.text ?? '',
        action: actionSelect.options[actionSelect.selectedIndex]?.text ?? '',
        status: document.getElementById('status').options[document.getElementById('status').selectedIndex]?.text ?? '',
        notes: document.getElementById('notes').value.trim(),
        price: document.getElementById('price').value.trim()
    };
}
function reportToText(r){
    return `[${r.appliance}]
Brand: ${r.brand}
Model: ${r.model}
Serial#: ${r.serial}
Year of Manufacture: ${r.year}
Problem: ${r.problem}
Diagnosis: ${r.diagnosis}
Action: ${r.action}
Status: ${r.status}
Notes: ${r.notes}
Price: $${r.price}
Date: ${r.date}`.trim();
}
function renderAllReports(){
    let out = '';
    reportsArr.forEach((r,idx) => out+=`
        <div class="report-output" style="margin-top:18px;">
          <div class="report-title">üìÑ Report #${idx+1}</div>
          <div class="report-content">
             <div class="report-line"><span class="report-label">Date:</span> <span class="report-value">${r.date||''}</span></div>
             <div class="report-line"><span class="report-label">Appliance Type:</span> <span class="report-value">${r.appliance}</span></div>
             <div class="report-line"><span class="report-label">Brand:</span> <span class="report-value">${r.brand}</span></div>
             <div class="report-line"><span class="report-label">Model:</span> <span class="report-value">${r.model}</span></div>
             <div class="report-line"><span class="report-label">Serial:</span> <span class="report-value">${r.serial}</span></div>
             <div class="report-line"><span class="report-label">Year of Manufacture:</span> <span class="report-value">${r.year}</span></div>
             <div class="report-line"><span class="report-label">Problem:</span> <span class="report-value">${r.problem}</span></div>
             <div class="report-line"><span class="report-label">Diagnosis:</span> <span class="report-value">${r.diagnosis}</span></div>
             <div class="report-line"><span class="report-label">Action Taken:</span> <span class="report-value">${r.action}</span></div>
             <div class="report-line"><span class="report-label">Status:</span> <span class="report-value">${r.status}</span></div>
             <div class="report-line"><span class="report-label">Additional Notes:</span> <span class="report-value">${r.notes}</span></div>
             <div class="report-line"><span class="report-label">Price:</span> <span class="report-value">$${r.price}</span></div>
          </div>
        </div>`);
    document.getElementById('allReportsBlock').innerHTML = out;
    const btns = document.getElementById('reportsControlBtns');
    btns.style.display = reportsArr.length ? "" : "none";
}
categorySelect.addEventListener('change',updateAllCategoryFields);
form.addEventListener('submit', e => {
    e.preventDefault();
    let v = document.getElementById('year').value.trim();
    if (v && !/^((0[1-9])|(1[0-2]))[./](19|20)\d\d$/.test(v)){
        alert('–§–æ—Ä–º–∞—Ç –º–µ—Å—è—Ü–∞ –∏ –≥–æ–¥–∞ —Ç–æ–ª—å–∫–æ MM.YYYY –∏–ª–∏ MM/YYYY! –ü—Ä–∏–º–µ—Ä: 10.2020 –∏–ª–∏ 11/2021');
        return;
    }
    const report = getCurrentReport();
    reportsArr.push(report);
    localStorage.setItem('arpro_reports_history', JSON.stringify(reportsArr));
    renderAllReports();
    form.reset(); updateAllCategoryFields();
    updateDelBtns();
});
document.getElementById('clearBtn').addEventListener('click', () => {form.reset();updateAllCategoryFields(); updateDelBtns();});
window.addEventListener('DOMContentLoaded',()=>{
    renderAllReports();
    updateAllCategoryFields();
    updateDelBtns();
    document.querySelectorAll('.translation').forEach(el=>el.classList.remove('hidden'));
});
const modeButtons = document.querySelectorAll('.mode-btn');
modeButtons.forEach(button => {
    button.addEventListener('click', () => {
        modeButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        const isClient = button.getAttribute('data-mode') === 'client';
        document.querySelectorAll('.translation').forEach(el=>{
            if(isClient) el.classList.add('hidden'); else el.classList.remove('hidden');
        });
    });
});
document.getElementById('copyAllBtn').onclick = () => {
    if(reportsArr.length) navigator.clipboard.writeText(reportsArr.map(reportToText).join('\n\n====\n\n'));
};
document.getElementById('copyLastBtn').onclick = () => {
    if(reportsArr.length) navigator.clipboard.writeText(reportToText(reportsArr[reportsArr.length-1]));
};
document.getElementById('clearAllBtn').onclick = () => {
    if(confirm('Clear ALL reports?')){
        reportsArr.length = 0; renderAllReports(); localStorage.setItem('arpro_reports_history','[]');
    }
};
</script>
</body>
</html>
