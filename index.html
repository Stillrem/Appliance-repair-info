<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Appliance Repair Pro</title>
    <style>
      /* –°—Ç–∏–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏. –û—Å—Ç–∞–≤–ª—è—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ */
      /* ... –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ –≤–∞—à–∏ CSS, –æ–Ω–∏ –Ω–µ –ø–æ–º–µ–Ω—è–ª–∏—Å—å ... */
      /* + –î–æ–±–∞–≤–ª—è—é –Ω–µ–º–Ω–æ–≥–æ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫: */
      .reports-list {margin-top:25px;}
      .report-block {background:var(--surface-2);border-radius:14px;padding:16px;margin-bottom:16px;}
      .copy-all-btn, .clear-all-btn, .copy-last-btn {
        background:var(--primary);color:var(--text);border:none;padding:10px 16px;
        border-radius:8px;margin-right:8px;font-weight:600;font-size:14px;cursor:pointer;
      }
      @media (max-width:480px) {
        .copy-all-btn, .clear-all-btn, .copy-last-btn { font-size:13px; padding:8px 10px }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">üîß</div>
        <h1 class="title">Appliance Repair Pro</h1>
        <p class="subtitle">Professional Service Reports</p>
        <div class="mode-toggle">
          <button class="mode-btn active" data-mode="technician">üë®‚Äçüîß Technician</button>
          <button class="mode-btn" data-mode="client">üë§ Client</button>
        </div>
      </div>

      <form id="repairForm">
        <div class="form-section">
          <div class="section-title">üè† Appliance Information</div>
          <div class="form-group">
            <label class="label">
              Appliance Type
              <span class="translation">–¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏</span>
            </label>
            <select id="category" required>
              <option value="">Select Appliance Type</option>
              <option value="refrigerator">Refrigerator / –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</option>
              <option value="dishwasher">Dishwasher / –ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞</option>
              <option value="washing_machine">Washing Machine / –°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞</option>
              <option value="dryer">Dryer / –°—É—à–∏–ª–∫–∞</option>
              <option value="stove_oven">Stove/Oven / –ü–ª–∏—Ç–∞/–î—É—Ö–æ–≤–∫–∞</option>
              <option value="microwave">Microwave / –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞</option>
            </select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="label">Brand <span class="translation">–ë—Ä–µ–Ω–¥</span></label>
              <select id="brand" required>
                <option value="">Select Brand</option>
              </select>
            </div>
            <div class="form-group">
              <label class="label">Model <span class="translation">–ú–æ–¥–µ–ª—å</span></label>
              <input type="text" id="model" placeholder="Enter model number" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="label">Serial Number <span class="translation">–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä</span></label>
              <input type="text" id="serial" placeholder="Enter serial number" />
            </div>
            <div class="form-group">
              <label class="label">Year of Manufacture <span class="translation">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</span></label>
              <input type="number" id="year" placeholder="2020" min="1990" max="2024" />
            </div>
          </div>
        </div>
        <div class="form-section">
          <div class="section-title">üîç Service Details</div>
          <div class="form-group">
            <label class="label">Problem <span class="translation">–ü—Ä–æ–±–ª–µ–º–∞</span></label>
            <select id="problem" required><option value="">Select Problem</option></select>
          </div>
          <div class="form-group">
            <label class="label">Diagnosis <span class="translation">–î–∏–∞–≥–Ω–æ–∑</span></label>
            <select id="diagnosis" required><option value="">Select Diagnosis</option></select>
          </div>
          <div class="form-group">
            <label class="label">Action Taken <span class="translation">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</span></label>
            <select id="action" required><option value="">Select Action</option></select>
          </div>
          <div class="form-group">
            <label class="label">Status <span class="translation">–°—Ç–∞—Ç—É—Å</span></label>
            <select id="status" required>
              <option value="">Select Status</option>
              <option value="completed">‚úÖ Fixed 100% / –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ</option>
              <option value="waiting">‚è≥ Waiting for Part / –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—á–∞—Å—Ç–∏</option>
              <option value="temporary">üîß Temporary Fix / –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ</option>
              <option value="unrepairable">‚ùå Not Repairable / –ù–µ –ø–æ–¥–ª–µ–∂–∏—Ç —Ä–µ–º–æ–Ω—Ç—É</option>
            </select>
          </div>
          <div class="form-group">
            <label class="label">Additional Notes <span class="translation">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏</span></label>
            <textarea id="notes" placeholder="Enter any additional details or recommendations..."></textarea>
          </div>
        </div>
        <div class="action-buttons">
          <button type="submit" class="btn btn-primary">üìã Generate Report</button>
          <button type="button" class="btn btn-secondary" id="clearBtn">üóëÔ∏è Clear Form</button>
        </div>
      </form>

      <div class="reports-list" id="allReports"></div>
      <div id="reportsControlBtns" class="hidden" style="margin-bottom:24px">
        <button class="copy-all-btn" id="copyAllBtn">üìÑ Copy All Reports</button>
        <button class="copy-last-btn" id="copyLastBtn">üìã Copy Last Report</button>
        <button class="clear-all-btn" id="clearAllBtn">üóëÔ∏è Clear All Reports</button>
      </div>
    </div>
    <script>
      // --- –î–ê–ù–ù–´–ï ---
      const applianceData = {
        refrigerator: {
          brands: [
            'GE','Samsung','Whirlpool','LG','Kenmore','KitchenAid','Frigidaire','Maytag','Bosch','Electrolux',
            'Haier','Panasonic','Beko','Hotpoint','Indesit','Miele','Ariston','Sharp','Smeg','Hitachi'
          ],
          problems: [
            { en: "Not cooling properly", ru: "–ù–µ –æ—Ö–ª–∞–∂–¥–∞–µ—Ç –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º" },
            { en: "Making loud noises", ru: "–ò–∑–¥–∞–µ—Ç –≥—Ä–æ–º–∫–∏–µ –∑–≤—É–∫–∏" },
            { en: "Leaking water", ru: "–¢–µ—á–µ—Ç –≤–æ–¥–∞" },
            { en: "Ice maker not working", ru: "–õ—å–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" },
            { en: "Defrost issues", ru: "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞" },
            { en: "Control panel not responding", ru: "–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç" },
            { en: "Compressor frequently cycles", ru: "–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä —á–∞—Å—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è" },
            { en: "Frost buildup", ru: "–û–±—Ä–∞–∑—É–µ—Ç –∏–Ω–µ–π" },
            { en: "Strange odors", ru: "–°—Ç—Ä–∞–Ω–Ω—ã–µ –∑–∞–ø–∞—Ö–∏" },
            { en: "Door not closing properly", ru: "–î–≤–µ—Ä—å –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–ª–æ—Ç–Ω–æ" },
            { en: "Unusual temperature fluctuations", ru: "–ö–æ–ª–µ–±–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" },
            { en: "Interior lights not working", ru: "–ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ª–∞–º–ø—ã" },
            { en: "Vegetable box freezes food", ru: "–ó–∞–º–µ—Ä–∑–∞–µ—Ç –æ–≤–æ—â–Ω–æ–π —è—â–∏–∫" },
            { en: "Door seal damaged", ru: "–ü–æ–≤—Ä–µ–∂–¥–µ–Ω —É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å –¥–≤–µ—Ä–∏" },
            { en: "Water dispenser problem", ru: "–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑–¥–∞—Ç—á–∏–∫–æ–º –≤–æ–¥—ã" },
            { en: "No power", ru: "–ù–µ—Ç –ø–∏—Ç–∞–Ω–∏—è" },
            { en: "Leaking freezer section", ru: "–¢–µ—á–µ—Ç –º–æ—Ä–æ–∑–∏–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞" },
            { en: "Display error", ru: "–û—à–∏–±–∫–∞ –¥–∏—Å–ø–ª–µ—è" },
            { en: "Condenser fan noisy", ru: "–®—É–º –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–∞" },
            { en: "Evaporator fan failure", ru: "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –∏—Å–ø–∞—Ä–∏—Ç–µ–ª—è" }
          ],
          diagnosis: [
            { en: "Faulty compressor", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä" },
            { en: "Refrigerant leak", ru: "–£—Ç–µ—á–∫–∞ —Ö–ª–∞–¥–∞–≥–µ–Ω—Ç–∞" },
            { en: "Blocked condenser coils", ru: "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–Ω—ã–µ –∫–∞—Ç—É—à–∫–∏" },
            { en: "Defective thermostat", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç" },
            { en: "Worn door gasket", ru: "–ò–∑–Ω–æ—à–µ–Ω —É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å –¥–≤–µ—Ä–∏" },
            { en: "Defective control board", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω–∞ –ø–ª–∞—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" },
            { en: "Water inlet valve failure", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –≤–ø—É—Å–∫–Ω–æ–π –∫–ª–∞–ø–∞–Ω" },
            { en: "Start relay problem", ru: "–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Å–∫–æ–≤—ã–º —Ä–µ–ª–µ" },
            { en: "Drain pan crack", ru: "–¢—Ä–µ—â–∏–Ω–∞ –≤ –ø–æ–¥–¥–æ–Ω–µ" },
            { en: "Dirty condenser coils", ru: "–ì—Ä—è–∑–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–Ω—ã–µ –∫–∞—Ç—É—à–∫–∏" },
            { en: "Evaporator iced", ru: "–ò—Å–ø–∞—Ä–∏—Ç–µ–ª—å –æ–±–ª–µ–¥–µ–Ω–µ–ª" },
            { en: "Fan motor defect", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –º–æ—Ç–æ—Ä –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞" },
            { en: "Door switch malfunction", ru: "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–≤–µ—Ä–Ω–æ–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å" },
            { en: "Capacitor malfunction", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–∞" },
            { en: "Frozen drain", ru: "–ó–∞–º–µ—Ä–∑—à–∏–π –¥—Ä–µ–Ω–∞–∂" },
            { en: "Temperature sensor error", ru: "–û—à–∏–±–∫–∞ –¥–∞—Ç—á–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" },
            { en: "No voltage", ru: "–ù–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è" }
          ],
          actions: [
            { en: "Replaced compressor", ru: "–ó–∞–º–µ–Ω–µ–Ω –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä" },
            { en: "Repaired refrigerant leak", ru: "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ —É—Ç–µ—á–∫–∞ —Ö–ª–∞–¥–∞–≥–µ–Ω—Ç–∞" },
            { en: "Cleaned condenser coils", ru: "–û—á–∏—â–µ–Ω—ã –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–Ω—ã–µ –∫–∞—Ç—É—à–∫–∏" },
            { en: "Replaced thermostat", ru: "–ó–∞–º–µ–Ω–µ–Ω —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç" },
            { en: "Replaced door gasket", ru: "–ó–∞–º–µ–Ω–µ–Ω —É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª—å –¥–≤–µ—Ä–∏" },
            { en: "Repaired control board", ru: "–û—Ç—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–ª–∞—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" },
            { en: "Replaced water inlet valve", ru: "–ó–∞–º–µ–Ω–µ–Ω –≤–ø—É—Å–∫–Ω–æ–π –∫–ª–∞–ø–∞–Ω" },
            { en: "Replaced start relay", ru: "–ó–∞–º–µ–Ω–µ–Ω–æ –ø—É—Å–∫–æ–≤–æ–µ —Ä–µ–ª–µ" },
            { en: "Sealed drain pan", ru: "–ó–∞–¥–µ–ª–∞–Ω –ø–æ–¥–¥–æ–Ω" },
            { en: "Replaced evaporator fan", ru: "–ó–∞–º–µ–Ω–µ–Ω –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –∏—Å–ø–∞—Ä–∏—Ç–µ–ª—è" },
            { en: "Repaired wiring", ru: "–í—ã–ø–æ–ª–Ω–µ–Ω —Ä–µ–º–æ–Ω—Ç –ø—Ä–æ–≤–æ–¥–∫–∏" },
            { en: "Thawed drain", ru: "–ü—Ä–æ—á–∏—Å—Ç–∫–∞ –¥—Ä–µ–Ω–∞–∂–∞" }
          ]
        },
        dishwasher: {
          brands: [
            'GE','Samsung', 'Whirlpool', 'LG', 'Kenmore','Bosch', 'Siemens', 'Electrolux', 'Beko', 'Miele',
            'Hotpoint', 'Indesit', 'Ariston', 'Zanussi', 'Candy'
          ],
          problems: [
            { en: "Not draining water", ru: "–ù–µ —Å–ª–∏–≤–∞–µ—Ç –≤–æ–¥—É" },
            { en: "Dishes not getting clean", ru: "–ü–æ—Å—É–¥–∞ –Ω–µ –æ—Ç–º—ã–≤–∞–µ—Ç—Å—è" },
            { en: "Water leaking from bottom", ru: "–í–æ–¥–∞ —Ç–µ—á–µ—Ç —Å–Ω–∏–∑—É" },
            { en: "Not filling with water", ru: "–ù–µ –Ω–∞–±–∏—Ä–∞–µ—Ç –≤–æ–¥—É" },
            { en: "Strange noises", ru: "–°—Ç—Ä–∞–Ω–Ω—ã–µ –∑–≤—É–∫–∏" },
            { en: "Cycle takes too long", ru: "–î–ª–∏—Ç–µ–ª—å–Ω—ã–π —Ü–∏–∫–ª –º–æ–π–∫–∏" },
            { en: "Bad odor inside", ru: "–ù–µ–ø—Ä–∏—è—Ç–Ω—ã–π –∑–∞–ø–∞—Ö –≤–Ω—É—Ç—Ä–∏" },
            { en: "Door won't latch", ru: "–î–≤–µ—Ä—å –Ω–µ –∑–∞—â–µ–ª–∫–∏–≤–∞–µ—Ç—Å—è" },
            { en: "Error code displayed", ru: "–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–¥ –æ—à–∏–±–∫–∏" },
            { en: "Spray arms not rotating", ru: "–ù–µ –≤—Ä–∞—â–∞—é—Ç—Å—è —Ä–∞–∑–±—Ä—ã–∑–≥–∏–≤–∞—Ç–µ–ª–∏" }
          ],
          diagnosis: [
            { en: "Clogged drain pump", ru: "–ó–∞—Å–æ—Ä–∏–ª—Å—è —Å–ª–∏–≤–Ω–æ–π –Ω–∞—Å–æ—Å" },
            { en: "Blocked spray arms", ru: "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–∑–±—Ä—ã–∑–≥–∏–≤–∞—Ç–µ–ª–∏" },
            { en: "Faulty door latch", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω–∞ –∑–∞—â–µ–ª–∫–∞ –¥–≤–µ—Ä–∏" },
            { en: "Pump motor failure", ru: "–°–ª–æ–º–∞–Ω –º–æ—Ç–æ—Ä –Ω–∞—Å–æ—Å–∞" },
            { en: "Defective control board", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω–∞ –ø–ª–∞—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" },
            { en: "Heater element burned", ru: "–°–≥–æ—Ä–µ–ª –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç" }
          ],
          actions: [
            { en: "Replaced drain pump", ru: "–ó–∞–º–µ–Ω–µ–Ω —Å–ª–∏–≤–Ω–æ–π –Ω–∞—Å–æ—Å" },
            { en: "Cleaned spray arms", ru: "–û—á–∏—â–µ–Ω—ã —Ä–∞–∑–±—Ä—ã–∑–≥–∏–≤–∞—Ç–µ–ª–∏" },
            { en: "Fixed door latch", ru: "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞—â–µ–ª–∫–∞ –¥–≤–µ—Ä–∏" },
            { en: "Replaced heater element", ru: "–ó–∞–º–µ–Ω–µ–Ω –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å" }
          ]
        },
        washing_machine: {
          brands: [
            "LG", "Samsung", "Whirlpool", "Bosch", "Electrolux", "Indesit", "Hotpoint", "Candy", "Beko", "Zanussi"
          ],
          problems: [
            { en: "Won't start", ru: "–ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è" },
            { en: "Not spinning", ru: "–ù–µ –æ—Ç–∂–∏–º–∞–µ—Ç" },
            { en: "No water intake", ru: "–ù–µ –Ω–∞–±–∏—Ä–∞–µ—Ç –≤–æ–¥—É" },
            { en: "Not draining", ru: "–ù–µ —Å–ª–∏–≤–∞–µ—Ç –≤–æ–¥—É" },
            { en: "Leaks water", ru: "–¢–µ—á–µ—Ç –≤–æ–¥–∞" },
            { en: "Vibrates excessively", ru: "–°–∏–ª—å–Ω–æ –≤–∏–±—Ä–∏—Ä—É–µ—Ç" },
            { en: "Excessive noise", ru: "–®—É–º–∏—Ç" },
            { en: "Not heating", ru: "–ù–µ –≥—Ä–µ–µ—Ç –≤–æ–¥—É" },
            { en: "Does not complete cycle", ru: "–ù–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª" }
          ],
          diagnosis: [
            { en: "Door lock fault", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –∑–∞–º–æ–∫ –¥–≤–µ—Ä–∏" },
            { en: "Drain pump failure", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —Å–ª–∏–≤–Ω–æ–π –Ω–∞—Å–æ—Å" },
            { en: "Drum belt broken", ru: "–û–±–æ—Ä–≤–∞–ª—Å—è —Ä–µ–º–µ–Ω—å –±–∞—Ä–∞–±–∞–Ω–∞" },
            { en: "Worn out bearings", ru: "–ò–∑–Ω–æ—à–µ–Ω—ã –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏" },
            { en: "Burned out heater", ru: "–°–≥–æ—Ä–µ–ª —Ç–µ–Ω" },
            { en: "Clogged filter", ru: "–ó–∞–±–∏—Ç —Ñ–∏–ª—å—Ç—Ä" }
          ],
          actions: [
            { en: "Replaced drain pump", ru: "–ó–∞–º–µ–Ω–µ–Ω —Å–ª–∏–≤–Ω–æ–π –Ω–∞—Å–æ—Å" },
            { en: "Replaced belt", ru: "–ó–∞–º–µ–Ω–µ–Ω —Ä–µ–º–µ–Ω—å" },
            { en: "Cleaned filter", ru: "–ü–æ—á–∏—â–µ–Ω —Ñ–∏–ª—å—Ç—Ä" },
            { en: "Replaced bearings", ru: "–ó–∞–º–µ–Ω–µ–Ω—ã –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏" }
          ]
        },
        dryer: {
          brands: [
            "LG", "Samsung", "Whirlpool", "Bosch", "Electrolux", "Hotpoint", "Indesit", "Maytag", "AEG", "Beko"
          ],
          problems: [
            { en: "Not heating", ru: "–ù–µ –≥—Ä–µ–µ—Ç" },
            { en: "Does not start", ru: "–ù–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è" },
            { en: "Drum not turning", ru: "–ë–∞—Ä–∞–±–∞–Ω –Ω–µ –∫—Ä—É—Ç–∏—Ç—Å—è" },
            { en: "Unusual noise", ru: "–°–∏–ª—å–Ω—ã–π —à—É–º" },
            { en: "Stops mid-cycle", ru: "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ü–∏–∫–ª–∞" }
          ],
          diagnosis: [
            { en: "Blown thermal fuse", ru: "–°–≥–æ—Ä–µ–ª —Ç–µ—Ä–º–æ–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å" },
            { en: "Broken belt", ru: "–û–±–æ—Ä–≤–∞–Ω —Ä–µ–º–µ–Ω—å" },
            { en: "Motor failure", ru: "–°–ª–æ–º–∞–Ω –º–æ—Ç–æ—Ä" },
            { en: "Clogged vent", ru: "–ó–∞–±–∏—Ç –≤–µ–Ω—Ç–∫–∞–Ω–∞–ª" }
          ],
          actions: [
            { en: "Replaced thermal fuse", ru: "–ó–∞–º–µ–Ω–µ–Ω —Ç–µ—Ä–º–æ–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å" },
            { en: "Replaced drum belt", ru: "–ó–∞–º–µ–Ω–µ–Ω —Ä–µ–º–µ–Ω—å" },
            { en: "Unclogged vent", ru: "–ü–æ—á–∏—â–µ–Ω –≤–µ–Ω—Ç–∫–∞–Ω–∞–ª" },
            { en: "Replaced drive motor", ru: "–ó–∞–º–µ–Ω–∏–ª–∏ –º–æ—Ç–æ—Ä" }
          ]
        },
        stove_oven: {
          brands: [
            "GE","Whirlpool","Bosch","Samsung","Electrolux","Beko","Hotpoint","Indesit","Zanussi","Ariston"
          ],
          problems: [
            { en: "No heating", ru: "–ù–µ—Ç –Ω–∞–≥—Ä–µ–≤–∞" },
            { en: "Burners not igniting", ru: "–ù–µ –∑–∞–∂–∏–≥–∞—é—Ç—Å—è –≥–æ—Ä–µ–ª–∫–∏" },
            { en: "Error code display", ru: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É" },
            { en: "Oven not baking evenly", ru: "–ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–∞—è –≤—ã–ø–µ—á–∫–∞" },
            { en: "Oven light out", ru: "–ù–µ –≥–æ—Ä–∏—Ç –ª–∞–º–ø–∞" }
          ],
          diagnosis: [
            { en: "Faulty igniter", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –≤–æ—Å–ø–ª–∞–º–µ–Ω–∏—Ç–µ–ª—å" },
            { en: "Defective thermostat", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç" },
            { en: "Control board issue", ru: "–ü—Ä–æ–±–ª–µ–º–∞ –ø–ª–∞—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" }
          ],
          actions: [
            { en: "Replaced igniter", ru: "–ó–∞–º–µ–Ω–µ–Ω –≤–æ—Å–ø–ª–∞–º–µ–Ω–∏—Ç–µ–ª—å" },
            { en: "Replaced thermostat", ru: "–ó–∞–º–µ–Ω–µ–Ω —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç" },
            { en: "Replaced control board", ru: "–ó–∞–º–µ–Ω–µ–Ω–∞ –ø–ª–∞—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" }
          ]
        },
        microwave: {
          brands: [
            "Samsung","LG","Panasonic","Sharp","Whirlpool","Bosch","Beko","Hotpoint","Candy","Midea"
          ],
          problems: [
            { en: "No heating", ru: "–ù–µ –≥—Ä–µ–µ—Ç" },
            { en: "Sparking inside", ru: "–ò—Å–∫—Ä–∏—Ç" },
            { en: "Turntable not rotating", ru: "–¢–∞—Ä–µ–ª–∫–∞ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è" },
            { en: "Buttons not working", ru: "–ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç" },
            { en: "Loud noise", ru: "–®—É–º–∏—Ç" }
          ],
          diagnosis: [
            { en: "Magnetron failure", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –º–∞–≥–Ω–µ—Ç—Ä–æ–Ω" },
            { en: "Faulty door switch", ru: "–ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –¥–≤–µ—Ä–Ω–æ–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å" },
            { en: "Broken turntable motor", ru: "–°–ª–æ–º–∞–Ω –º–æ—Ç–æ—Ä —Ç–∞—Ä–µ–ª–∫–∏" }
          ],
          actions: [
            { en: "Replaced magnetron", ru: "–ó–∞–º–µ–Ω–µ–Ω –º–∞–≥–Ω–µ—Ç—Ä–æ–Ω" },
            { en: "Replaced door switch", ru: "–ó–∞–º–µ–Ω–µ–Ω –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å –¥–≤–µ—Ä–∏" },
            { en: "Replaced turntable motor", ru: "–ó–∞–º–µ–Ω–µ–Ω –º–æ—Ç–æ—Ä —Ç–∞—Ä–µ–ª–∫–∏" }
          ]
        }
      };

      // --- DOM ---
      const categorySelect = document.getElementById('category');
      const brandSelect = document.getElementById('brand');
      const problemSelect = document.getElementById('problem');
      const diagnosisSelect = document.getElementById('diagnosis');
      const actionSelect = document.getElementById('action');
      const form = document.getElementById('repairForm');
      const clearBtn = document.getElementById('clearBtn');
      const allReportsDiv = document.getElementById('allReports');
      const reportsBtnsRow = document.getElementById('reportsControlBtns');
      const copyAllBtn = document.getElementById('copyAllBtn');
      const clearAllBtn = document.getElementById('clearAllBtn');
      const copyLastBtn = document.getElementById('copyLastBtn');

      // --- STATE ---
      let reportsArr = [];

      // --- –§–£–ù–ö–¶–ò–ò ---
      function fillSelect(select, options, getValueFn, getTextFn) {
        select.innerHTML = `<option value="">${select === brandSelect ? "Select Brand" : select === problemSelect ? "Select Problem" : select === diagnosisSelect ? "Select Diagnosis" : select === actionSelect ? "Select Action" : ""}</option>`;
        for (const opt of options) {
          const option = document.createElement('option');
          option.value = getValueFn(opt);
          option.textContent = getTextFn(opt);
          select.appendChild(option);
        }
      }

      categorySelect.addEventListener('change', () => {
        const cat = categorySelect.value;
        if (cat && applianceData[cat]) {
          fillSelect(brandSelect, applianceData[cat].brands, x => x.toLowerCase().replace(/\s+/g,'_'), x => x);
          fillSelect(problemSelect, applianceData[cat].problems, x => x.en.toLowerCase().replace(/\s+/g, '_'), x => `${x.en} / ${x.ru}`);
          fillSelect(diagnosisSelect, applianceData[cat].diagnosis, x => x.en.toLowerCase().replace(/\s+/g, '_'), x => `${x.en} / ${x.ru}`);
          fillSelect(actionSelect, applianceData[cat].actions, x => x.en.toLowerCase().replace(/\s+/g, '_'), x => `${x.en} / ${x.ru}`);
        } else {
          fillSelect(brandSelect, [], x=>x, x=>x);
          fillSelect(problemSelect, [], x=>x, x=>x);
          fillSelect(diagnosisSelect, [], x=>x, x=>x);
          fillSelect(actionSelect, [], x=>x, x=>x);
        }
      });

      // –†–µ–∂–∏–º Technician/Client - —Å–∫—Ä—ã—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥
      const modeButtons = document.querySelectorAll('.mode-btn');
      modeButtons.forEach(btn => btn.addEventListener('click', () => {
        modeButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        if (btn.getAttribute('data-mode') === "client") {
          document.querySelectorAll('.translation').forEach(el => el.classList.add('hidden'));
        } else {
          document.querySelectorAll('.translation').forEach(el => el.classList.remove('hidden'));
        }
      }));

      // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ (HTML+—Ç–µ–∫—Å—Ç)
      function getReportObj() {
        return {
          category: categorySelect.options[categorySelect.selectedIndex].text,
          brand: brandSelect.options[brandSelect.selectedIndex]?.text || '',
          model: document.getElementById('model').value,
          serial: document.getElementById('serial').value,
          year: document.getElementById('year').value,
          problem: problemSelect.options[problemSelect.selectedIndex]?.text || '',
          diagnosis: diagnosisSelect.options[diagnosisSelect.selectedIndex]?.text || '',
          action: actionSelect.options[actionSelect.selectedIndex]?.text || '',
          status: document.getElementById('status').options[document.getElementById('status').selectedIndex]?.text || '',
          notes: document.getElementById('notes').value
        };
      }
      function reportToHtml(rep) {
        return `<div class="report-block"><b>${rep.category}</b><br>
          <b>Brand:</b> ${rep.brand} &nbsp;<b>Model:</b> ${rep.model}<br>
          <b>Serial#:</b> ${rep.serial} &nbsp;<b>Year:</b> ${rep.year}<br>
          <b>Problem:</b> ${rep.problem}<br>
          <b>Diagnosis:</b> ${rep.diagnosis}<br>
          <b>Action:</b> ${rep.action}<br>
          <b>Status:</b> ${rep.status}<br>
          <b>Notes:</b> ${rep.notes}</div>`;
      }
      function reportToTxt(rep) {
        return [
          `${rep.category}`,
          `Brand: ${rep.brand}, Model: ${rep.model}`,
          `Serial#: ${rep.serial}, Year: ${rep.year}`,
          `Problem: ${rep.problem}`,
          `Diagnosis: ${rep.diagnosis}`,
          `Action: ${rep.action}`,
          `Status: ${rep.status}`,
          `Notes: ${rep.notes}`
        ].join("\n");
      }

      function renderAllReports() {
        if (!reportsArr.length) {
          allReportsDiv.innerHTML = "";
          reportsBtnsRow.classList.add('hidden');
          return;
        }
        allReportsDiv.innerHTML = reportsArr.map(reportToHtml).join("");
        reportsBtnsRow.classList.remove('hidden');
      }

      form.addEventListener('submit', e => {
        e.preventDefault();
        const repObj = getReportObj();
        reportsArr.push(repObj);
        renderAllReports();
        form.reset();
        // –û—á–∏—Å—Ç–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ select-—ã
        brandSelect.innerHTML = '<option value="">Select Brand</option>';
        problemSelect.innerHTML = '<option value="">Select Problem</option>';
        diagnosisSelect.innerHTML = '<option value="">Select Diagnosis</option>';
        actionSelect.innerHTML = '<option value="">Select Action</option>';
      });

      clearBtn.addEventListener('click', () => {
        form.reset();
        brandSelect.innerHTML = '<option value="">Select Brand</option>';
        problemSelect.innerHTML = '<option value="">Select Problem</option>';
        diagnosisSelect.innerHTML = '<option value="">Select Diagnosis</option>';
        actionSelect.innerHTML = '<option value="">Select Action</option>';
      });

      clearAllBtn.addEventListener('click', () => {
        reportsArr = [];
        renderAllReports();
      });

      copyAllBtn.addEventListener('click', () => {
        if (!reportsArr.length) return;
        const txt = reportsArr.map(reportToTxt).join("\n\n---------------------\n\n");
        navigator.clipboard.writeText(txt);
        copyAllBtn.textContent = "‚úÖ Copied!";
        setTimeout(()=>{copyAllBtn.textContent="üìÑ Copy All Reports"},1500);
      });

      copyLastBtn.addEventListener('click', () => {
        if (!reportsArr.length) return;
        const last = reportsArr[reportsArr.length-1];
        navigator.clipboard.writeText(reportToTxt(last));
        copyLastBtn.textContent = "‚úÖ Copied!";
        setTimeout(()=>{copyLastBtn.textContent="üìã Copy Last Report"},1200);
      });
    </script>
  </body>
</html>
